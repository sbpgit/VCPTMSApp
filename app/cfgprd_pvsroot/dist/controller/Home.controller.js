sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","cfgapp/pvsroot/cfgprdpvsroot/controller/BaseController","sap/ui/core/Fragment"],function(e,t,o,i){"use strict";var s,r;return o.extend("cfgapp.pvsroot.cfgprdpvsroot.controller.Home",{onInit:function(){s=this;this.oListModel=new t;this.getRouter().getRoute("Home").attachPatternMatched(this._onObjectMatched,this)},onAfterRendering:function(){s=this;r=this.getModel("oGModel")},_onObjectMatched:function(){s=this;r=this.getModel("oGModel");this.i18n=this.getResourceBundle();this.oList=this.byId("idList");this.oList.setModel(s.oListModel);this.oList.removeSelections();if(this.oList.getBinding("items")){this.oList.getBinding("items").filter([])}s.getData();this.oList.attachEvent("updateFinished",function(){}.bind(s))},getData:function(){s=this;var e=this.getModel("sModel");e.callFunction("/fGetNodeDet",{method:"GET",urlParameters:{NODE_TYPE:"AN",CHILD_NODE:"1",PARENT_NODE:" "},success:function(e){s.oListModel.setData({results:e.results})},error:function(e){MessageToast.show(s.i18n.getText("getListErr"))}})},handleItemSelction:function(e){var t=e.getParameter("listItem").getTitle();r.setProperty("/PARENT_NODE",t);s.getRouter().navTo("Detail",{},true)},setCurrentSelectedItem:function(){var e=this.byId("viewNodeList").getSelectedItem();if(e){s.getModel("oGModel").setProperty("/currentNode",e)}},onCreate:function(){if(!s._oCreateNode){s._oCreateNode=sap.ui.xmlfragment("cfgapp.pvsroot.cfgprdpvsroot.view.CreateNode",s);s.getView().addDependent(s._oCreateNode)}sap.ui.getCore().byId("idCrDg").setTitle("Create Access Node");s._oCreateNode.open()},onSave:function(){s._oCreateNode.close();sap.ui.getCore().byId("idCrDg").setTitle("");s._oCreateNode.destroy(true)},onCancel:function(){s._oCreateNode.close();sap.ui.getCore().byId("idCrDg").setTitle("");s._oCreateNode.destroy(true)}})});