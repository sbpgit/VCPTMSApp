<<<<<<< HEAD
sap.ui.define(["cp/appf/cpibpfuturedemand/controller/BaseController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/Fragment"],function(e,o,t,a,r,n,i,s){"use strict";var l,d;return e.extend("cp.appf.cpibpfuturedemand.controller.Detail",{onInit:function(){l=this;l.oListModel=new a;l.oListModel.setSizeLimit(1e3)},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(l);e.navTo("Home",{},true)},onAfterRendering:function(){l=this;l.oGModel=l.getModel("oGModel");l.byId("DetailSearch").setValue("");var e=l.oGModel.getProperty("/sLoc"),o=l.oGModel.getProperty("/sProd"),t=l.oGModel.getProperty("/sVer"),a=l.oGModel.getProperty("/sScen"),i=l.oGModel.getProperty("/sWeek");sap.ui.core.BusyIndicator.show();l.getModel("BModel").read("/getIBPFplan",{filters:[new r("LOCATION_ID",n.EQ,e),new r("PRODUCT_ID",n.EQ,o),new r("VERSION",n.EQ,t),new r("SCENARIO",n.EQ,a),new r("WEEK_DATE",n.EQ,i)],success:function(e){sap.ui.core.BusyIndicator.hide();l.oListModel.setData({results:e.results});l.byId("idPlanTable").setModel(l.oListModel);l.onDetailSearch()},error:function(e){sap.ui.core.BusyIndicator.hide();sap.m.MessageToast.show("Error While fetching data")}})},onDetailSearch:function(e){var o=[];if(e){var t=e.getParameter("value")||e.getParameter("newValue")}else{var t=l.byId("DetailSearch").getValue()}t=t?t.trim():"";if(t!==""){o.push(new r({filters:[new r("CLASS_NAME",n.Contains,t),new r("CHAR_NAME",n.Contains,t),new r("CHAR_VALUE",n.Contains,t)],and:false}))}l.byId("idPlanTable").getBinding("items").filter(o)}})});
=======
sap.ui.define(["cp/appf/cpibpfuturedemand/controller/BaseController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/Fragment"],function(e,o,t,r,s,a,n,i){"use strict";var d,l;return e.extend("cp.appf.cpibpfuturedemand.controller.Detail",{onInit:function(){d=this;d.oListModel=new r;d.oListModel.setSizeLimit(1e3)},onBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(d);e.navTo("Home",{},true)},onAfterRendering:function(){d=this;d.oGModel=d.getModel("oGModel");d.byId("DetailSearch").setValue("");var e=d.oGModel.getProperty("/sLoc"),o=d.oGModel.getProperty("/sProd"),t=d.oGModel.getProperty("/sVer"),r=d.oGModel.getProperty("/sScen"),n=d.oGModel.getProperty("/sWeek");sap.ui.core.BusyIndicator.show();d.getModel("BModel").read("/getIBPFplan",{filters:[new s("LOCATION_ID",a.EQ,e),new s("PRODUCT_ID",a.EQ,o),new s("VERSION",a.EQ,t),new s("SCENARIO",a.EQ,r),new s("WEEK_DATE",a.EQ,n)],success:function(e){sap.ui.core.BusyIndicator.hide();d.oListModel.setData({results:e.results});d.byId("idPlanTable").setModel(d.oListModel)},error:function(e){sap.ui.core.BusyIndicator.hide();sap.m.MessageToast.show("Error While fetching data")}})},onDetailSearch:function(e){var o="",t=[];var o=d.byId("DetailSearch").getValue();o=o?o.trim():"";o=o.toUpperCase();var r=d.oGModel.getProperty("/sLoc"),n=d.oGModel.getProperty("/sProd"),i=d.oGModel.getProperty("/sVer"),l=d.oGModel.getProperty("/sScen"),u=d.oGModel.getProperty("/sWeek");t.push(new s({filters:[new s("LOCATION_ID",a.EQ,r),new s("PRODUCT_ID",a.EQ,n),new s("VERSION",a.EQ,i),new s("SCENARIO",a.EQ,l),new s("WEEK_DATE",a.EQ,u)],and:true}));if(o!==""){t.push(new s({filters:[new s("CLASS_NAME",a.Contains,o),new s("CHAR_NAME",a.Contains,o),new s("CHAR_VALUE",a.Contains,o)],and:false}))}sap.ui.core.BusyIndicator.show();d.getModel("BModel").read("/getIBPFplan",{filters:[t],success:function(e){sap.ui.core.BusyIndicator.hide();d.oListModel.setData({results:e.results});d.byId("idPlanTable").setModel(d.oListModel)},error:function(e){sap.ui.core.BusyIndicator.hide();sap.m.MessageToast.show("Error While fetching data")}})}})});
>>>>>>> 77de88f04f3036129a94bcc91ba9d4f0fd4fa11c
