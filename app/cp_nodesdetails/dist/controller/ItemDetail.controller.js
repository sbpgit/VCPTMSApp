sap.ui.define(["cpappf/cpnodesdetails/controller/BaseController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/Fragment"],function(e,t,o,r,s,d,u,i){"use strict";var a,l;return e.extend("cpappf.cpnodesdetails.controller.ItemDetail",{onInit:function(){a=this;this.bus=sap.ui.getCore().getEventBus();a.oStruModel=new r;l=a.getOwnerComponent().getModel("oGModel")},onAfterRendering:function(){l=a.getOwnerComponent().getModel("oGModel");var e=l.getProperty("/SelectedAccessNode");var t=l.getProperty("/struNodeData");var o=l.getProperty("/ViewNodeData");a.struNodeData=[];a.viewNodeData=[];this.byId("struTitle").setText("Structure Node Details for -"+" "+e);for(var r=0;r<t.length;r++){if(t[r].PARENT_NODE===e){a.struNodeData.push(t[r])}}a.oStruModel.setData({Struresults:a.struNodeData});a.byId("sturList").setModel(a.oStruModel)},onStruNode:function(e){if(!a._oStruNode){a._oStruNode=sap.ui.xmlfragment("cpappf.cpnodesdetails.view.StructureNodes",a);a.getView().addDependent(a._oStruNode)}if(e.getSource().getTooltip().includes("Add")){a._oStruNode.setTitle("Structure Node Creation");sap.ui.getCore().byId("idStruNode").setValue("");sap.ui.getCore().byId("idStruDesc").setValue("");a._oStruNode.open()}else{if(this.byId("sturList").getSelectedItems().length){var o=this.byId("sturList").getSelectedItem().getCells();a._oStruNode.setTitle("Update Structure Node");sap.ui.getCore().byId("idStruNode").setValue(o[0].getText());sap.ui.getCore().byId("idStruDesc").setValue(o[1].getText());sap.ui.getCore().byId("idStruNode").setEditable(false);a._oStruNode.open()}else{t.show("Select structure node to update")}}},onStruNodeClose:function(){this.byId("sturList").removeSelections();a._oStruNode.close();a._oStruNode.destroy(true);a._oStruNode=""}})});