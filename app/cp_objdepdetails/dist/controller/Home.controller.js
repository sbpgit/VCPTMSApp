sap.ui.define(["cp/appf/cpobjdepdetails/controller/BaseController","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox","sap/ui/Device"],function(e,o,t,s,n,i,r){"use strict";var a,d;return e.extend("cp.appf.cpobjdepdetails.controller.ItemMaster",{onInit:function(){a=this;a.oModel=new t;a.oHdrModel=new t;a.oModel.setSizeLimit(2e3);d=a.getOwnerComponent().getModel("oGModel")},refreshMaster:function(){this.onAfterRendering()},onAfterRendering:function(){a=this;d=this.getModel("oGModel");sap.ui.core.BusyIndicator.show();this.getModel("BModel").read("/getBomOdCond",{success:function(e){a.oModel.setData({results:e.results});a.byId("objDepList").setModel(a.oModel);sap.ui.core.BusyIndicator.hide()},error:function(){o.show("Failed to get data")}})},onhandlePress:function(e){d=a.getOwnerComponent().getModel("oGModel");var t=e.getSource().getSelectedItem().getTitle().split("_"),i=t[0],r=t[1];d.setProperty("/objDep",i);sap.ui.core.BusyIndicator.show();this.getModel("BModel").callFunction("/genODHistory",{filters:[new s("OBJ_DEP",n.EQ,i),new s("OBJ_COUNTER",n.EQ,r)],success:function(e){sap.ui.core.BusyIndicator.hide()},error:function(){o.show("Failed to get data")}})},onSearch:function(e){var o=e.getParameter("value")||e.getParameter("newValue"),t=[];if(o!==""){t.push(new s({filters:[new s("OBJ_DEP",n.Contains,o)],and:false}))}a.byId("objDepList").getBinding("items").filter(t)}})});