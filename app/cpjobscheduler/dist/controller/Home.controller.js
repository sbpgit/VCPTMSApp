sap.ui.define(["cpapp/cpjobscheduler/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","sap/ui/core/routing/HashChanger","sap/m/MessageToast","sap/ui/Device"],function(e,t,o,s,a,n){"use strict";var i;return e.extend("cpapp.cpjobscheduler.controller.Prediction",{onInit:function(){i=this;this.listModel=new t;this.listModel.setSizeLimit(2e3)},onAfterRendering:function(){i.oList=i.byId("jobList");var e=new Date;var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-15);this.byId("idDateRange").setDateValue(t);this.byId("idDateRange").setSecondDateValue(e);i.getModel("JModel").callFunction("/readJobs",{method:"GET",success:function(e){i.listModel.setData({results:e.results});i.oList.setModel(i.listModel)},error:function(e){sap.ui.core.BusyIndicator.hide();a.show("Failed to get data")}})},onCreateJob:function(e){var t=sap.ui.core.UIComponent.getRouterFor(i);t.navTo("CreateJob",{},true)},onOpenJob:function(e){var t=sap.ui.core.UIComponent.getRouterFor(i);t.navTo("OpenJob",{},true)},handleDateChange:function(e){var t=e.getParameters().newValue;t=t.split(" To ");var o=t[0],s=t[0];i.getModel("JModel").callFunction("/readJobs",{method:"GET",urlParameters:{startTime:o,endTime:s},success:function(e){i.listModel.setData({results:e.results});i.oList.setModel(i.listModel)},error:function(e){sap.ui.core.BusyIndicator.hide();a.show("Failed to get data")}})}})});