sap.ui.define(["cpapp/cpmatvariant/controller/BaseController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/Fragment"],function(e,t,a,r,o,n,i,s){"use strict";var d,l;return e.extend("cpapp.cpmatvariant.controller.ItemDetail",{onInit:function(){d=this;this.bus=sap.ui.getCore().getEventBus();d.oCharModel=new r;this.oCharModel.setSizeLimit(1e3)},onAfterRendering:function(){l=d.getOwnerComponent().getModel("oGModel");sap.ui.core.BusyIndicator.show();var e=l.getProperty("/prdId");var a=l.getProperty("/locId");var r=l.getProperty("/uniqId");this.getModel("BModel").read("/getUniqueItem",{filters:[new o("LOCATION_ID",n.EQ,a),new o("PRODUCT_ID",n.EQ,e),new o("UNIQUE_ID",n.EQ,r)],success:function(e){sap.ui.core.BusyIndicator.hide();d.oCharModel.setData({results:e.results});d.byId("idMatvarItem").setModel(d.oCharModel)},error:function(){t.show("Failed to get data")}})},onCharSearch:function(e){var t="",a=[];if(e){t=e.getParameter("value")||e.getParameter("newValue")}if(t!==""){a.push(new o({filters:[new o("CHAR_NAME",n.Contains,t),new o("CHAR_VALUE",n.Contains,t)],and:false}))}d.byId("idMatvarItem").getBinding("items").filter(a)}})});