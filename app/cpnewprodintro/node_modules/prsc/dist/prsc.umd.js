!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).prsc={})}(this,(function(t){"use strict";function e(t,e){return{success:!0,offset:t,value:e}}function n(t){return e(t,void 0)}function r(t,e,n=!1){return{success:!1,offset:t,expected:e,fatal:n}}function o(t,n){return(r,o)=>{const u=t(r,o);return u.success?e(u.offset,n(u.value)):u}}function u(t){return(n,r)=>{let o=[],u=r;for(;;){const e=t(n,u);if(!e.success){if(e.fatal)return e;break}if(o.push(e.value),e.offset===u)break;u=e.offset}return e(u,o)}}function c(t,n,r){return(o,u)=>{const c=t(o,u);if(!c.success)return c;const f=n(o,c.offset);return f.success?e(f.offset,r(c.value,f.value)):f}}function f(t,e){return t}function s(t,e){return e}function i(t,e){return c(t,e,s)}function l(t,e){return c(t,e,f)}function a(t,e){return(o,u)=>t(o,u).success?r(u,e):n(u)}function d(t){return(e,n)=>{const o=t(e,n);return o.success?o:r(o.offset,o.expected,!0)}}const p=(t,e)=>t.length===e?n(e):r(e,["end of input"]);function g(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return[e,n.value]}t.collect=g,t.complete=function(t){return c(t,p,f)},t.consume=function(t){return o(t,()=>{})},t.cut=d,t.delimited=function(t,e,n,r=!1){return i(t,r?d(l(e,n)):l(e,n))},t.end=p,t.error=r,t.except=function(t,e,n){return i(a(e,n),t)},t.filter=function(t,e,n){return(o,u)=>{const c=t(o,u);return c.success?e(c.value)?c:r(u,n):c.offset===u?r(u,n):c}},t.filterUndefined=function(t){return o(t,t=>t.filter(t=>void 0!==t))},t.first=f,t.followed=l,t.map=o,t.not=a,t.ok=n,t.okWithValue=e,t.optional=function(t){return(n,r)=>{const o=t(n,r);return o.success||o.fatal?o:e(r,null)}},t.or=function(t){return(e,n)=>{let o=null;for(const r of t){const t=r(e,n);if(t.success)return t;if(null===o||t.offset>o.offset?o=t:t.offset===o.offset&&(o.expected=o.expected.concat(t.expected)),t.fatal)break}return o||r(n,[])}},t.peek=function(t){return(n,r)=>{const o=t(n,r);return o.success?e(r,o.value):o}},t.plus=function(t){return c(t,u(t),(t,e)=>[t].concat(e))},t.preceded=i,t.range=function(t,n){return(o,u)=>{const c=o.codePointAt(u);if(void 0!==c&&c>=t&&c<=n){const t=String.fromCodePoint(c);return e(u+t.length,t)}return r(u,[`${String.fromCodePoint(t)}-${String.fromCodePoint(n)}`])}},t.recognize=function(t){return(n,r)=>{const o=t(n,r);return o.success?e(o.offset,n.slice(r,o.offset)):o}},t.second=s,t.skipChars=function(t){return(e,o)=>{let u=t;for(;u>0;){const t=e.codePointAt(o);if(void 0===t)return r(o,["any character"]);o+=String.fromCodePoint(t).length,u-=1}return n(o)}},t.star=u,t.start=(t,e)=>0===e?n(e):r(e,["start of input"]),t.streaming=function(t){return function*(e,n){const r=t(e,n);return r.success&&(yield r.value),r}},t.streamingComplete=function(t){return function*(e,n){const r=yield*t(e,n);return r.success?p(e,r.offset):r}},t.streamingFilterUndefined=function(t){return function*(e,n){const r=t(e,n);let o=r.next();for(;!o.done;){const t=o.value;void 0!==t&&(yield t),o=r.next()}return o.value}},t.streamingOptional=function(t){return function*(e,r){const[o,u]=g(t(e,r));return u.success?(yield*o,u):u.fatal?u:n(r)}},t.streamingStar=function(t){return function*(e,r){for(;;){const[o,u]=g(t(e,r));if(!u.success)return u.fatal?u:n(r);if(yield*o,r===u.offset)return n(r);r=u.offset}}},t.streamingThen=function(t,e){return function*(n,r){const o=yield*t(n,r);return o.success?yield*e(n,o.offset):o}},t.then=c,t.token=function(t){return(n,o)=>{const u=o+t.length;return n.slice(o,u)===t?e(u,t):r(o,[t])}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=prsc.umd.js.map
