VIEW V_TSGEN_ORDQTY_BYDATE AS 
--SELECT "MAT_AVAILDATE" AS "CAL_DATE",
-- SELECT ADD_DAYS (TO_DATE ("MAT_AVAILDATE", 'YYYY-MM-DD'), 6-WEEKDAY (TO_DATE ("MAT_AVAILDATE", 'YYYY-MM-DD'))) AS "CAL_DATE",
SELECT ADD_DAYS (TO_DATE ("MAT_AVAILDATE", 'YYYY-MM-DD'), -WEEKDAY (TO_DATE ("MAT_AVAILDATE", 'YYYY-MM-DD'))) AS "CAL_DATE",
"CP_SALESH"."PRODUCT_ID", "CLASS_NUM", SUM( CONFIRMED_QTY) AS ORD_QTY  FROM CP_SALESH
--WHERE PRODUCT_ID = '8150RW'
INNER JOIN "CP_PRODUCT_CLASS" ON
"CP_SALESH"."PRODUCT_ID" = "CP_PRODUCT_CLASS"."PRODUCT_ID"
GROUP BY MAT_AVAILDATE, "CP_SALESH"."PRODUCT_ID", "CLASS_NUM"
ORDER BY MAT_AVAILDATE, "CP_SALESH"."PRODUCT_ID", "CLASS_NUM";