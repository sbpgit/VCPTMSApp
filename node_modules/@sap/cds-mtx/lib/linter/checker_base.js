const path = require('path');
const FileSystemHelper = require('../helper/file_system_helper');

class Checker {

    static _isFromExtension(element, extensionFiles, compileDir){
        if (!element.$location) {
            return false;
        }
        const originFile = this._localizeFile(element.$location.file, compileDir);
        return extensionFiles.includes(originFile);
    }

    static _localizeFile(filename, compileDir) {
        if (path.isAbsolute(filename) || filename.startsWith('..')) {
            filename = path.relative(compileDir, filename);
        }
        return FileSystemHelper.unixPath(filename);
    }

}

module.exports = Checker;
