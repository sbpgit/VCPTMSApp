@protocol:'rest'
service TenantPersistenceService {

    type JSON {
        // any json
    }

    action createTenant(tenantId: UUID, subscriptionData: JSON) returns String;

    action deleteTenant(tenantId: UUID, subscriptionData: JSON);

    action upgradeTenant(
        tenantId: UUID,
        instanceData: JSON,
        deploymentOptions: JSON,
        basemodelBuild: JSON,
        basemodelBuildLogs: String,
        isExtended: Boolean
    ) returns JSON;

    action deployToDb(sourceDir: String, instanceData: JSON, deploymentOptions: JSON, additionalServices: JSON);

    function getAllTenants() returns Array of JSON;

    function getAllTenantIds() returns Array of String;

    function getTenantMetadata(tenantId: UUID) returns JSON;
}