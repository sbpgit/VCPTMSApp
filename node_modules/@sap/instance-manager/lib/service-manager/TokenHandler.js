'use strict';

var requests = require('@sap/xssec').requests;

module.exports = TokenHandler;

function TokenHandler(options) {
  this._options = options;
  this._options.timeout = 5000;
  this._cached = null;
}

TokenHandler.prototype.getToken = function (cb) {
  requests.requestClientCredentialsToken(null, this._options, null, null, (err, token) => {
    if (err) {
      return cb(err);
    }

    cb(null, token);
  });
};